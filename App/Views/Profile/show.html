{% extends "base.html" %}

{% block title %}Profile{% endblock %}

{% block footer %}

{% endblcok %}

{% block body %}

    <section id="MyProfile">
        <div class="container top-row-logged">

            <div class="row">
                <div class="panel-group" id="harmony_menu">
                    <!-- MyProfile element 1 -->
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panel MyProfile_panel">
                        <div class="panel-heading customPanel">
                             <a href="#MyProfile01" data-toggle="collapse" data-parent="#harmony_menu">
                                <h4><span class="glyphicon glyphicon-user"></span> Profil</h4>
                            </a>
                        </div>
                        <div id="MyProfile01" class="panel-collapse collapse">
                            <div class="panel-body">
                                <table class="table myTable" style=".table {margin:auto;width: 50% !important;}">
                                  <thead>
                                    <tr>
                                      <th scope="col">Imię</th>
                                      <th scope="col">Email</th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr>
                                      <td>{{ user.name }}</td>
                                      <td>{{ user.email }}</td>
                                    </tr>
                                  </tbody>
                                </table>    
                                <div class = "text-center">
                                    <a href="/profile/edit"><button type="button" class="btn btn-default btn-sm">Edycja</button></a>
                                    <!-- Button trigger modal -->
                                    <a href="" role="button" class="btn btn-danger btn-sm" data-toggle="modal" data-target="#deleteUser">Usuń konto</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- MyProfile element 2 -->
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panel MyProfile_panel">
                        <div class="panel-heading customPanel">
                            <a href="#MyProfile02" data-toggle="collapse" data-parent="#harmony_menu">
                                <h4><span class="glyphicon glyphicon-paperclip"></span> Metody Płatności</h4>
                            </a>
                        </div>
                        <div id="MyProfile02" class="panel-collapse collapse">
                            <div class="panel-body">
                                <div class="row">
                                    <div class="col-sm-8 col-sm-offset-2">
                                        <button id="addnew" class="btn btn-primary"><span class="glyphicon glyphicon-plus"></span> Dodaj kategorię</button>
                                        <div id="alert" class="alert alert-info text-center" style="margin-top:20px; display:none;">
                                            <button class="close"><span aria-hidden="true">&times;</span></button>
                                            <span id="alert_message"></span>
                                        </div>  
                                        <table class="table table-bordered table-striped" style="margin-top:20px;">
                                            <thead>
                                                <th>Nazwa</th>
                                                <th>Opcje</th>
                                            </thead>
                                            {% for payment in payment %}
                                                <tr>
                                                    <td>{{ payment.name }}</td>
                                                    <td>
                                                        <button class="btn btn-success btn-sm edit" data-id="{{ payment.id }}"><span class="glyphicon glyphicon-edit"></span> Edit</button>
                                                        <button class="btn btn-danger btn-sm delete" data-id="{{ payment.id }}"><span class="glyphicon glyphicon-trash"></span> Delete</button>
                                                    </td>
                                                </tr>
                                                {% endfor %} 
                                        </table>
                                    </div>
                                </div>  
                            </div>
                        </div>
                    </div>

                    <!-- MyProfile element 3 -->
                     <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panel MyProfile_panel">
                        <div class="panel-heading customPanel">
                            <a href="#MyProfile03" data-toggle="collapse" data-parent="#harmony_menu">
                                <h4><span class="glyphicon glyphicon-upload"></span> Kategorie Przychodów</h4>
                            </a>
                        </div>
                        <div id="MyProfile03" class="panel-collapse collapse">
                            <div class="panel-body">
                                
                            </div>
                        </div>
                    </div>


                    <!-- MyProfile element 4 -->
                     <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panel MyProfile_panel">
                        <div class="panel-heading customPanel">
                            <a href="#MyProfile03" data-toggle="collapse" data-parent="#harmony_menu">
                                <h4><span class="glyphicon glyphicon-download"></span> Kategorie Wydatków</h4>
                            </a>
                        </div>
                        <div id="MyProfile03" class="panel-collapse collapse">
                            <div class="panel-body">
                                
                            </div>
                        </div>
                    </div>


                </div>
            </div>
        </div>
    </section>


    <!-- Modal Delete User account -->
    <div id="deleteUser" class="modal fade" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">Potwierdzenie usunięcia konta</h3>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <p>Czy jesteś pewien, że chcesz usunąć swoje konto?</p>
                    <p class="text-secondary"><small>Wszystkie Twoje dane zostaną utracone.</small></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Anuluj</button>
                    <a href="/profile/delete"><button type="submit" class="btn btn-danger">Potwierdź</button></a>     
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Add New -->
<div class="modal fade" id="add" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <center><h4 class="modal-title" id="myModalLabel">Add New</h4></center>
            </div>
            <div class="modal-body">
            <div class="container-fluid">
            <form id="addForm">
                <div class="row form-group">
                    <div class="col-sm-2">
                        <label class="control-label" style="position:relative; top:7px;">Nazwa kategorii:</label>
                    </div>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" name="categoryName">
                    </div>
                </div>
            </div> 
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> Cancel</button>
                <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-floppy-disk"></span> Save</a>
            </form>
            </div>

        </div>
    </div>
</div>

<!-- Edit -->
<div class="modal fade" id="edit" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <center><h4 class="modal-title" id="myModalLabel">Edycja Kategorii</h4></center>
            </div>
            <div class="modal-body">
            <div class="container-fluid">
            <form id="editForm">
                <input type="hidden" class="id" name="id">
                <div class="row form-group">
                    <div class="col-sm-2">
                        <label class="control-label" style="position:relative; top:7px;">Nazwa kategorii:</label>
                    </div>
                    <div class="col-sm-10">
                        <input type="text" class="form-control categoryName" name="categoryName">
                    </div>
                </div>
            </div> 
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> Cancel</button>
                <button type="submit" class="btn btn-success"><span class="glyphicon glyphicon-check"></span> Update</a>
            </form>
            </div>

        </div>
    </div>
</div>

<!-- Delete -->
<div class="modal fade" id="delete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <center><h4 class="modal-title" id="myModalLabel">Usuń kategorię</h4></center>
            </div>
            <div class="modal-body">    
                <p class="text-center">Are you sure you want to Delete</p>
                <h2 class="text-center fullname"></h2>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> Cancel</button>
                <button type="button" class="btn btn-danger id"><span class="glyphicon glyphicon-trash"></span> Yes</button>
            </div>

        </div>
    </div>
</div>

{% endblock %}

